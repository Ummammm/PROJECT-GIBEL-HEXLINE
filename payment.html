<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HEXLINE - Payment</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['IBM Plex Sans', 'sans-serif']
          },
          colors: {
            neonGreen: '#00FFAA',
            cyberPink: '#FF2C79',
            bitcoinPink: '#FF00FF',
            darkGray: '#1A1A1A',
            cyberBlack: '#0a0a0a',
            cyberBlue: '#00BFFF',
            glowWhite: '#f0f0f0'
          },
          animation: {
            'fade-in': 'fadeIn 0.3s ease-in forwards',
            'fade-out': 'fadeOut 0.2s ease-out forwards',
            'glow': 'glow 2s ease-in-out infinite alternate',
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite'
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: 0, transform: 'translateY(10px)' },
              '100%': { opacity: 1, transform: 'translateY(0)' },
            },
            fadeOut: {
              '0%': { opacity: 1 },
              '100%': { opacity: 0 },
            },
            glow: {
              '0%': { boxShadow: '0 0 5px #00FFAA, 0 0 10px #00FFAA, 0 0 15px #00FFAA' },
              '100%': { boxShadow: '0 0 10px #00FFAA, 0 0 20px #00FFAA, 0 0 30px #00FFAA' }
            }
          },
        }
      }
    }
  </script>
  <style>
    body {
      font-family: 'IBM Plex Sans', sans-serif;
      color: white;
      position: relative;
      z-index: 0;
    }

    body::before {
      content: "";
      background-image: url('assets/placeholder/cyberpunk-bitcoin-illustration (1).jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: fixed;
      inset: 0;
      opacity: 0.1;
      z-index: -1;
    }

    .panel {
      backdrop-filter: blur(10px);
      background: rgba(10, 10, 10, 0.8);
      border: 1px solid #00FFAA;
      box-shadow: 0 0 20px rgba(0, 255, 170, 0.2);
    }

    .input-field {
      background: transparent;
      border: 1px solid #00FFAA;
      color: white;
      transition: all 0.3s ease;
    }

    .input-field:focus {
      outline: none;
      box-shadow: 0 0 15px rgba(0, 255, 170, 0.5);
      border-color: #00FFAA;
    }

    .input-field::placeholder {
      color: #666;
    }

    .delivery-option {
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .delivery-option.selected {
      background: #00FFAA;
      color: black;
    }

    .delivery-option:not(.selected) {
      background: transparent;
      color: white;
      border: 1px solid #00FFAA;
    }

    .delivery-option:hover {
      transform: translateY(-2px);
    }

    .pay-btn {
      background: #00FFAA;
      color: black;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .pay-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 255, 170, 0.4);
    }

    .pay-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .pay-btn:hover::before {
      left: 100%;
    }

    .success-modal {
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.9);
      border: 2px solid #00FFAA;
      box-shadow: 0 0 50px rgba(0, 255, 170, 0.5);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    .item-image {
      background: radial-gradient(circle, #FF6B35 0%, #FF8C42 50%, #FF6B35 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .item-image::before {
      content: '';
      position: absolute;
      width: 60%;
      height: 60%;
      background: radial-gradient(circle, #FF4500 0%, #FF6347 100%);
      border-radius: 50%;
      animation: pulse-slow 2s infinite;
    }
  </style>
</head>

<body class="min-h-screen w-full bg-cyberBlack">
  <!-- NAVBAR -->
  <nav class="flex items-center justify-between px-6 py-4 border-b border-neonGreen bg-black bg-opacity-80">
    <h1 class="text-5xl font-bold text-neonGreen">HEXLINE</h1>
    <ul class="flex gap-6 text-sm font-bold">
      <li><a href="main.html" class="hover:text-neonGreen transition text-xl">STOCKPILE</a></li>
      <li><a href="mostwanted.html" class="hover:text-neonGreen transition text-xl">MOST WANTED</a></li>
      <li><a href="justsmuggled.html" class="hover:text-neonGreen transition text-xl">JUST SMUGGLED</a></li>
      <li><a href="loadbayxiii.html" class="hover:text-neonGreen transition text-xl">LOADBAY XIII</a></li>
      <li><a href="dropcrates.html" class="hover:text-neonGreen transition text-xl">DROPCRATES</a></li>
    </ul>
    <div class="flex gap-4">
      <a href="stash.html" class="border border-neonGreen px-3 py-1 text-sm hover:bg-neonGreen hover:text-black transition text-xl">STASH <span id="stash-count" class="text-xs">0</span></a>
      <a href="linkin.html" class="border border-neonGreen px-3 py-1 text-sm hover:bg-neonGreen hover:text-black transition text-xl">LINK IN</a>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="p-8">
    <div class="flex gap-8 max-w-7xl mx-auto">
      
      <!-- LEFT PANEL: SHIPPING INFORMATION -->
      <div class="panel flex-1 p-6 rounded-lg">
        <h2 class="text-2xl font-bold mb-6">SHIPPING INFORMATION</h2>
        
        <!-- Delivery Options -->
        <div class="flex gap-4 mb-6">
          <button class="delivery-option selected flex-1 py-3 px-4 rounded-lg font-semibold" onclick="selectDelivery('delivery')">
            <div class="flex items-center justify-center gap-2">
              DELIVERY
            </div>
          </button>
          <button class="delivery-option flex-1 py-3 px-4 rounded-lg font-semibold" onclick="selectDelivery('pickup')">
            <div class="flex items-center justify-center gap-2">
              <div ></div>
              PICK-UP
            </div>
          </button>
        </div>

        <!-- Input Fields -->
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-semibold mb-2">FULL NAME</label>
            <input type="text" class="input-field w-full px-4 py-3 rounded-lg" placeholder="Enter your full name" />
          </div>
          
          <div>
            <label class="block text-sm font-semibold mb-2">EMAIL ADDRESS</label>
            <input type="email" class="input-field w-full px-4 py-3 rounded-lg" placeholder="Enter your email" />
          </div>
          
          <div>
            <label class="block text-sm font-semibold mb-2">PHONE NUMBER</label>
            <input type="tel" class="input-field w-full px-4 py-3 rounded-lg" placeholder="Enter your phone number" />
          </div>
          
          <div>
            <label class="block text-sm font-semibold mb-2">COUNTRY</label>
            <input type="text" class="input-field w-full px-4 py-3 rounded-lg" placeholder="Enter your country" />
          </div>
          
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-semibold mb-2">CITY</label>
              <input type="text" class="input-field w-full px-4 py-3 rounded-lg" placeholder="City" />
            </div>
            <div>
              <label class="block text-sm font-semibold mb-2">STATE</label>
              <input type="text" class="input-field w-full px-4 py-3 rounded-lg" placeholder="State" />
            </div>
            <div>
              <label class="block text-sm font-semibold mb-2">ZIP CODE</label>
              <input type="text" class="input-field w-full px-4 py-3 rounded-lg" placeholder="ZIP" />
            </div>
          </div>
        </div>

        <!-- Terms and Conditions -->
        <div class="mt-6 flex items-center gap-3">
          <input type="checkbox" id="terms" class="w-5 h-5 accent-neonGreen" />
          <label for="terms" class="text-sm">I HAVE READ AND AGREE TO THE TERMS AND CONDITIONS</label>
        </div>
      </div>

      <!-- RIGHT PANEL: CART REVIEW -->
      <div class="panel flex-1 p-6 rounded-lg">
        <h2 class="text-2xl font-bold mb-6">CART REVIEW</h2>
        
        <!-- Cart Items -->
        <div id="cart-items" class="space-y-4 mb-6">
          <!-- Items will be loaded here from stash -->
        </div>

        <!-- Cost Summary -->
        <div class="border-t border-neonGreen pt-4 space-y-2">
          <div class="flex justify-between">
            <span>Subtotal:</span>
            <span id="subtotal">0 GRC</span>
          </div>
          <div class="flex justify-between">
            <span>Shipping:</span>
            <span id="shipping">5 GRC</span>
          </div>
          <div class="flex justify-between text-2xl font-bold text-cyberPink">
            <span>TOTAL:</span>
            <span id="total">0 GRC</span>
          </div>
        </div>

        <!-- Pay Now Button -->
        <button id="pay-now-btn" class="pay-btn w-full py-4 rounded-lg text-xl font-bold mt-6">
          PAY NOW
        </button>
      </div>
    </div>
  </main>

  <!-- SUCCESS MODAL -->
  <div id="success-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black bg-opacity-80"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="success-modal rounded-xl p-8 text-center max-w-md w-full animate-fade-in">
        <div class="text-6xl mb-4">âœ…</div>
        <h2 class="text-3xl font-bold text-neonGreen mb-4">PAYMENT SUCCESSFUL</h2>
        <p class="text-gray-300 mb-6">Your order has been processed successfully!</p>
        <button id="back-to-browsing-btn" class="bg-neonGreen text-black font-bold py-3 px-6 rounded-lg hover:bg-green-400 transition">
          BACK TO BROWSING
        </button>
      </div>
    </div>
  </div>

  <script>
    let cartItems = [];
    let deliveryType = 'delivery';

    // Load cart items from stash
    function loadCartItems() {
      cartItems = JSON.parse(localStorage.getItem('hexline-stash')) || [];
      renderCartItems();
      updateStashCount();
      calculateTotals();
    }

    // Render cart items
    function renderCartItems() {
      const cartContainer = document.getElementById('cart-items');
      cartContainer.innerHTML = '';

      if (cartItems.length === 0) {
        cartContainer.innerHTML = `
          <div class="text-center py-8 text-gray-400">
            <div class="text-4xl mb-2">ðŸ“¦</div>
            <p>Your cart is empty</p>
            <a href="main.html" class="text-neonGreen hover:underline">Continue shopping</a>
          </div>
        `;
        return;
      }

      cartItems.forEach((item, index) => {
        const itemElement = document.createElement('div');
        itemElement.className = 'border border-neonGreen rounded-lg p-4';
        
        const itemTotal = item.contents ? 'Bundle' : (item.price || 0) * item.quantity + ' u';
        
        itemElement.innerHTML = `
          <div class="grid grid-cols-4 gap-4 items-center">
            <div>
              <img src="${item.image}" alt="${item.name}" class="w-15 h-15 object-contain relative z-10" />
            </div>
            <div class="col-span-2">
              <div class="font-semibold">${item.name}</div>
            </div>
            <div class="text-center">
              <div class="text-xs text-gray-400">QUANTITY</div>
              <div class="font-bold">${item.quantity}</div>
            </div>
            <div class="text-center">
              <div class="text-xs text-gray-400">TOTAL</div>
              <div class="font-bold">${itemTotal}</div>
            </div>
          </div>
        `;
        
        cartContainer.appendChild(itemElement);
      });
    }

    // Calculate totals
    function calculateTotals() {
      const subtotal = cartItems.reduce((sum, item) => {
        if (item.contents) return sum; // Bundle items don't contribute to price
        return sum + ((item.price || 0) * item.quantity);
      }, 0);
      
      const shipping = deliveryType === 'delivery' ? 5 : 0;
      const total = subtotal + shipping;

      document.getElementById('subtotal').textContent = `${subtotal} GRC`;
      document.getElementById('shipping').textContent = `${shipping} GRC`;
      document.getElementById('total').textContent = `${total} GRC`;
    }

    // Select delivery option
    function selectDelivery(type) {
      deliveryType = type;
      
      // Update button styles
      document.querySelectorAll('.delivery-option').forEach(btn => {
        btn.classList.remove('selected');
      });
      event.target.closest('.delivery-option').classList.add('selected');
      
      calculateTotals();
    }

    // Update stash count
    function updateStashCount() {
      const total = cartItems.reduce((sum, item) => sum + item.quantity, 0);
      const stashCountElement = document.getElementById('stash-count');
      if (stashCountElement) {
        stashCountElement.textContent = total;
      }
    }

    // Handle payment
    function handlePayment() {
      const termsAccepted = document.getElementById('terms').checked;
      
      if (!termsAccepted) {
        alert('Please accept the terms and conditions to proceed.');
        return;
      }

      if (cartItems.length === 0) {
        alert('Your cart is empty. Please add items before proceeding.');
        return;
      }

      // Show loading state
      const payBtn = document.getElementById('pay-now-btn');
      const originalText = payBtn.textContent;
      payBtn.textContent = 'PROCESSING...';
      payBtn.disabled = true;

      // Simulate payment processing
      setTimeout(() => {
        // Clear the stash
        localStorage.removeItem('hexline-stash');
        cartItems = [];
        
        // Show success modal
        document.getElementById('success-modal').classList.remove('hidden');
        
        // Reset button
        payBtn.textContent = originalText;
        payBtn.disabled = false;
      }, 2000);
    }

    // Back to browsing
    function backToBrowsing() {
      window.location.href = 'main.html';
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
      loadCartItems();
      
      // Pay now button
      document.getElementById('pay-now-btn').addEventListener('click', handlePayment);
      
      // Back to browsing button
      document.getElementById('back-to-browsing-btn').addEventListener('click', backToBrowsing);
    });
  </script>

</body>

</html>
